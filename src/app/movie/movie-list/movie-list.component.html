<h2>Movies</h2>

<div class="example-container mat-elevation-z8">
  <div class="example-loading-shade" *ngIf="isLoadingResults">
    <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
  </div>

  <div class="example-table-container">
    <mat-table [dataSource]="dataSource" matSort>
      <ng-container matColumnDef="title">
        <mat-header-cell fxFlex="25" *matHeaderCellDef> Title </mat-header-cell>
        <mat-cell fxFlex="25" *matCellDef="let movie"> {{movie.title}} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="overview">
        <mat-header-cell *matHeaderCellDef> Overview </mat-header-cell>
        <mat-cell *matCellDef="let movie"> {{movie.overview | slice:0:50}} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="popularity">
        <mat-header-cell fxFlex="10" fxFlex.lt-md="15" fxHide.lt-sm *matHeaderCellDef> Popularity </mat-header-cell>
        <mat-cell fxFlex="10" fxFlex.lt-md="15" fxHide.lt-sm *matCellDef="let movie"> {{movie.popularity}} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="vote_average">
        <mat-header-cell fxFlex="10" fxFlex.lt-md="15" fxHide.lt-sm *matHeaderCellDef> Vote average </mat-header-cell>
        <mat-cell fxFlex="10" fxFlex.lt-md="15" fxHide.lt-sm *matCellDef="let movie"> {{movie.vote_average}} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="release_date">
        <mat-header-cell fxFlex="15" fxHide.lt-md *matHeaderCellDef> Release date </mat-header-cell>
        <mat-cell fxFlex="15" fxHide.lt-md *matCellDef="let movie"> {{movie.release_date}} </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    </mat-table>
  </div>

  <mat-paginator #paginator showFirstLastButtons [length]=0 [pageIndex]=0 [pageSize]=0 (page)="loadMovies($event)">
  </mat-paginator>
</div>
